Minha solucao que pensei quando 
fui no banheiro foi basicamente 
usar o ID_carrinho como condicao,
 se o ID for o mesmo significa que
  ele ja ta repetindo e chegou no 
  fim, entao pode sair do While e
   fechar a lista de produtos.

   vale mais a pena fazer toda a logica do if(produto) e tals que continuar mexendo naquele monstro, se vc nao ta entendendo direito aquilo
   imagina o proximo
